1. Протокол общения по USB: приём файлов, их сохранение в spi-flash, косанда запуска 
(пока хотя бы так, а вообще есть ещё много крутых плюшек, которые надо бы сюда добавить).
Сложно сделать без доступа к плате, так что это моя часть.
2. Пара буферов для приёма файлов по usb и сохранения во flash, с возможностью их смены по 
мере заполнения и индикации статуса (пустой, полный, занят). Атомарный семафор (доступ к ним будет из разных потоков)
3. DeviceManager для GPIO (с полем type, указывающим режим работы, и обработкой выходов для servo и GPIO в разных режимах)
4. hardware driver для GPIO: конфигурация на нужный режим работы, требуемые функции для этих режимов
5. Поддержка gpio и srv файлов
6. Поддержка системных событий: переключение состояния системы по нажатию кнопки. Событие передаёт имя скриптового файла с
описанием используемых файлов, они подключаются и система уходит в состояние воспроизведения (всё на прерываниях, main только следит за 
своевременной загрузкой данных для потоковых файлов) 
7. Чтение и интерпретация WAV-файлов, чтение в потоковом режиме (такой файл не влезет в память целиком, 
поэтому его нужно читать по частям, в 2 меняющихся буфера по 512 байт). Функция получения текущего значения (по аналогии с led_file), 
если каналов в файле больше одного - усреднение значений.